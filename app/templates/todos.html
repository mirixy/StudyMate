{% extends "new_base.html" %}
{% block content %}

<div class="todo-wrapper">
    <h1 class="title-todo">Meine Aufgaben</h1>
    <div class="big-button">
            <a href="{{ url_for('main.add_todo') }}" class="btn-primary big-btn">Neue Aufgabe</a>
    </div>
    <div class="card-container">
        {% for task in tasks %}
        <div class="todo-card">
                <h2>{{ task.title }}</h2>
                <p class="description">{{ task.description }}</p>
                <small>Erstellt am: {{ task.created_at }}</small>
                <small>Deadline: {{ task.deadline.strftime('%Y-%m-%d') if task.deadline else 'No deadline set' }}</small>
        
                <form action="{{ url_for('main.edit_todo', task_id=task.id) }}" method="GET" style="display:inline;">
                    <button type="submit" class="btn btn-primary">Bearbeiten</button>
                </form>
                <form action="{{ url_for('main.delete_todo', task_id=task.id) }}" method="POST" style="display:inline;">
                    {{ form.hidden_tag() }}
                    <button type="submit" class="btn btn-primary btn-delete">LÃ¶schen</button>
                </form>
        </div>
        {% endfor %}  
    </div>
</div>
{% endblock %}